<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html lang='en'>
  <head>
    <meta charset='utf-8'>
      <title>Atlas Schema / Relationships</title>
      <meta content='width=device-width, initial-scale=1.0' name='viewport'>
        <meta content='' name='description'>
          <meta content='' name='author'>
            <!-- Le styles -->
            <link href='css/bootstrap.css' rel='stylesheet' />
            <link href='css/blackboard.css' rel='stylesheet'>
              <style type='text/css'>
                /*<![CDATA[*/
                  body {
                    padding-top: 60px; /* 60px to make the container go all the way to the bottom of the topbar */
                  }
                    %link{:href => "css/bootstrap-responsive.css", :rel => "stylesheet"}
                  / HTML5 shim, for IE6-8 support of HTML5 elements
                /*]]>*/
              </style>
            </link>
          </meta>
        </meta>
      </meta>
    </meta>
  </head>
  <body>
    <div class='container'>
      <div class='row' style='margin-bottom:10px'>
        <div class='span2 offset1'>
          <img src='img/atlas.png' width='150px' />
        </div>
        <div class='span7'>
          <h1 style='margin-top:38px'>Atlas Schema Definition</h1>
          <h4 style='margin-top:-10px'>v1.1.0</h4>
        </div>
      </div>
      <div class='row'>
        <div class='span3' style='margin-top:17px'>
          <div class='well'>
            <ul class='nav nav-list'>
              <li class='nav-header'></li>
              <li class=''>
                <a href='index.html'>Introduction</a>
              </li>
              <li class=''>
                <a href='sections.html'>Sections</a>
              </li>
              <li class=''>
                <a href='nodes.html'>Nodes</a>
              </li>
              <li class='active'>
                <a href='relationships.html'>Relationships</a>
              </li>
              <li class=''>
                <a href='characteristics.html'>Characteristics</a>
              </li>
              <li class=''>
                <a href='features.html'>Features</a>
              </li>
            </ul>
          </div>
          <a href='http://dataset.io'>
            <img src='img/dataset-io-small.png' />
          </a>
        </div>
        <div class='span9'>
          <h3>Relationships</h3>

<p>In the <a href="nodes.html">Nodes</a> section we walked through a simple example of how a node can build a relationship and also how a express cardinality on the relationship.</p>

<p>From that brief introduction you have probably started to see that all Nodes are abstract and there is no difference between a node that holds a value and one that does not.  In this section we aim to add more detail to how more complex node structures are set-up to model other types of relationship.</p>

<h3>One-to-One</h3>

<p>The simpliest of all relationships is the one-to-one relationship,  you can specify this from any direction and the opposing direction will be implied.  For example</p>

<pre><code data-language="java">&#x000A;    {&#x000A;      ...&#x000A;      {&#x000A;        "name":"Person",&#x000A;        "relationships" : ["Name","Address"]&#x000A;      },&#x000A;      ....&#x000A;    }&#x000A;</code></pre>


<p>In this case we just simply specify the name of the node that we want to use,  we don't care if the node is one that holds a value or another grouping of values,  because nodes are just nodes.</p>

<h3>One-to-Many</h3>

<p>A one to many simply includes the [ ] and the range for the cardinality,  therefore we say there can 0 to unbounded instances of the relationship,  therefore is it [0..]</p>

<pre><code data-language="java">&#x000A;    {&#x000A;      ...&#x000A;      {&#x000A;        "name":"Person",&#x000A;        "relationships" : ["Name","Address[0..]"]&#x000A;      },&#x000A;      ....&#x000A;    }&#x000A;</code></pre>


<h3>Many-to-Many</h3>

<p>If you have a many to many, for example a person can have a relationship with many organizations and an organization has many people then you can use the cardinality to express that.</p>

<pre><code data-language="java">&#x000A;    {&#x000A;      ...&#x000A;      {&#x000A;        "name":"Person",&#x000A;        "relationships" : ["Name","Organization[0..]"]&#x000A;      },&#x000A;      {&#x000A;        "name":"Organization",&#x000A;        "relationships" : ["Name","Person[0..]"]&#x000A;      },&#x000A;      ....&#x000A;    }&#x000A;</code></pre>


<p>In an Atlas schema you don't need to create a Node in the middle unless you want to add additional information for the relationship,  for example if you wanted to know the Start and End dates for people in an organization, then you would need to add a new node in the middle and provide a meaningful name.</p>

<pre><code data-language="java">&#x000A;    {&#x000A;      ...&#x000A;      {&#x000A;        "name":"Person",&#x000A;        "relationships" : ["Name","Employment[0..]"]&#x000A;      },&#x000A;      {&#x000A;        "name":"Organization",&#x000A;        "relationships" : ["Name","Employment[0..]"]&#x000A;      },&#x000A;      {&#x000A;        "name":"Employment",&#x000A;        "relationships" : ["StartDate","EndDate"]&#x000A;      },&#x000A;      ....&#x000A;    }&#x000A;</code></pre>


<h3>Multiple Relationships</h3>

<p>Another case where you would need to introduce a new node is where one node has more than one relationship with a second node,  for example lets say that we have a person who has two Addresses,  the first is a work address and the second is a home address.  You could model this as two relationships between a Person and an Address,  but in order to identify them you would need to introduce two new nodes.  For example:</p>

<pre><code data-language="java">&#x000A;    {&#x000A;      ...&#x000A;      {&#x000A;        "name":"Person",&#x000A;        "relationships" : ["Name","HomeAddress","WorkAddress"]&#x000A;      },&#x000A;      {&#x000A;        "name":"Address",&#x000A;        "relationships" : ["Street","ZipCode"]&#x000A;      },&#x000A;      {&#x000A;        "name":"HomeAddress",&#x000A;        "relationships" : ["Address"]&#x000A;      },&#x000A;      {&#x000A;        "name":"WorkAddress",&#x000A;        "relationships" : ["Address"]&#x000A;      },&#x000A;      ....&#x000A;    }&#x000A;</code></pre>
        </div>
      </div>
    </div>
    <script src='js/jquery-1.9.0.min.js' type='text/javascript'></script>
    <script src='js/d3.v3.js' type='text/javascript'></script>
    <script src='js/rainbow-custom.min.js' type='text/javascript'></script>
    <script type='text/javascript'>
      //<![CDATA[
        $(document).ready(function() {
            function showHiddenParagraphs() {
                $("p.hidden").fadeIn(500);
            }
            setTimeout(showHiddenParagraphs, 1000);
        });
      //]]>
    </script>
  </body>
</html>
